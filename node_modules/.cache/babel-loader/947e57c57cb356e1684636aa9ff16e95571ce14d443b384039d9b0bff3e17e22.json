{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/DELL/Desktop/ReactMeals/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/DELL/Desktop/ReactMeals/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useContext}from\"react\";import CardContext from\"../../../store/card-context\";import useInput from\"../../../Hooks/use-input\";import Modal from\"../../UI/Modal\";import styles from\"./LogInCard.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LogInCard=function LogInCard(props){var _useInput=useInput(function(value){return value.trim()!==\"\";}),enterdName=_useInput.enterdInput,nameInputHasError=_useInput.inputIsInValid,enterdNameIsValid=_useInput.inputIsValid,nameBlurHandler=_useInput.inputBlurHandler,nameChangeHandler=_useInput.inputChangeHandler,resetNameInput=_useInput.reset;var _useInput2=useInput(function(value){return value.includes(\"@\");}),enterdEmail=_useInput2.enterdInput,emailInputHasError=_useInput2.inputIsInValid,enterdEmailIsValid=_useInput2.inputIsValid,emailBlurHandler=_useInput2.inputBlurHandler,emailChangeHandler=_useInput2.inputChangeHandler,resetEmailInput=_useInput2.reset;var _useInput3=useInput(function(value){return value.trim().length>=4&&value.trim().length<=8;}),enterdPassword=_useInput3.enterdInput,passwordInputHasError=_useInput3.inputIsInValid,enterdPasswordIsValid=_useInput3.inputIsValid,passwordBlurHandler=_useInput3.inputBlurHandler,passwordChangeHandler=_useInput3.inputChangeHandler,resetPasswordInput=_useInput3.reset;var cardCtx=useContext(CardContext);var _cardCtx$submitState=cardCtx.submitState,submiting=_cardCtx$submitState.submiting,submitingHasError=_cardCtx$submitState.submitingHasError;var allInputsValid=!enterdNameIsValid||!enterdEmailIsValid||!enterdPasswordIsValid;var disableButton=allInputsValid||submiting;var submitHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(!allInputsValid){_context.next=3;break;}return _context.abrupt(\"return\");case 3:cardCtx.onSubmitionData({name:enterdName,email:enterdEmail,password:enterdPassword,resetName:resetNameInput,resetEmail:resetEmailInput,resetPassword:resetPasswordInput,onLogIn:props.onLogIn,onHideCard:props.onHideCard});case 4:case\"end\":return _context.stop();}},_callee);}));return function submitHandler(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Modal,{onClose:props.onHideCard,id:\"formCard\",children:/*#__PURE__*/_jsxs(\"form\",{className:styles.form,onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:nameInputHasError?\"\".concat(styles[\"form-control\"],\" \").concat(styles[\"invalid\"]):styles[\"form-control\"],children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Your Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",value:enterdName,onBlur:nameBlurHandler,onChange:nameChangeHandler,autoComplete:\"name\"}),nameInputHasError&&/*#__PURE__*/_jsx(\"p\",{className:styles[\"error-text\"],children:\"Name should not be empty\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:emailInputHasError?\"\".concat(styles[\"form-control\"],\" \").concat(styles[\"invalid\"]):styles[\"form-control\"],children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Your Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\",value:enterdEmail,onBlur:emailBlurHandler,onChange:emailChangeHandler,autoComplete:\"email\"}),emailInputHasError&&/*#__PURE__*/_jsx(\"p\",{className:styles[\"error-text\"],children:\"Email should contain '@'\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:passwordInputHasError?\"\".concat(styles[\"form-control\"],\" \").concat(styles[\"invalid\"]):styles[\"form-control\"],children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:enterdPassword,onBlur:passwordBlurHandler,onChange:passwordChangeHandler,autoComplete:\"off\"}),passwordInputHasError&&/*#__PURE__*/_jsx(\"p\",{className:styles[\"error-text\"],children:\"Password should be (4 to 8) character\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles[\"form-actions\"],children:[submitingHasError&&/*#__PURE__*/_jsx(\"p\",{children:submitingHasError}),/*#__PURE__*/_jsx(\"button\",{className:styles[\"button\"],disabled:disableButton,children:submiting?\"submiting...\":\"Submit\"})]})]})});};export default LogInCard;","map":{"version":3,"names":["useContext","CardContext","useInput","Modal","styles","jsx","_jsx","jsxs","_jsxs","LogInCard","props","_useInput","value","trim","enterdName","enterdInput","nameInputHasError","inputIsInValid","enterdNameIsValid","inputIsValid","nameBlurHandler","inputBlurHandler","nameChangeHandler","inputChangeHandler","resetNameInput","reset","_useInput2","includes","enterdEmail","emailInputHasError","enterdEmailIsValid","emailBlurHandler","emailChangeHandler","resetEmailInput","_useInput3","length","enterdPassword","passwordInputHasError","enterdPasswordIsValid","passwordBlurHandler","passwordChangeHandler","resetPasswordInput","cardCtx","_cardCtx$submitState","submitState","submiting","submitingHasError","allInputsValid","disableButton","submitHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","abrupt","onSubmitionData","name","email","password","resetName","resetEmail","resetPassword","onLogIn","onHideCard","stop","_x","apply","arguments","onClose","id","children","className","form","onSubmit","concat","htmlFor","type","onBlur","onChange","autoComplete","disabled"],"sources":["C:/Users/DELL/Desktop/ReactMeals/src/components/Card/LogCard/LogInCard.js"],"sourcesContent":["import { useContext } from \"react\";\r\nimport CardContext from \"../../../store/card-context\";\r\n\r\nimport useInput from \"../../../Hooks/use-input\";\r\nimport Modal from \"../../UI/Modal\";\r\nimport styles from \"./LogInCard.module.css\";\r\n\r\nconst LogInCard = (props) => {\r\n  const {\r\n    enterdInput: enterdName,\r\n    inputIsInValid: nameInputHasError,\r\n    inputIsValid: enterdNameIsValid,\r\n    inputBlurHandler: nameBlurHandler,\r\n    inputChangeHandler: nameChangeHandler,\r\n    reset: resetNameInput,\r\n  } = useInput((value) => value.trim() !== \"\");\r\n\r\n  const {\r\n    enterdInput: enterdEmail,\r\n    inputIsInValid: emailInputHasError,\r\n    inputIsValid: enterdEmailIsValid,\r\n    inputBlurHandler: emailBlurHandler,\r\n    inputChangeHandler: emailChangeHandler,\r\n    reset: resetEmailInput,\r\n  } = useInput((value) => value.includes(\"@\"));\r\n\r\n  const {\r\n    enterdInput: enterdPassword,\r\n    inputIsInValid: passwordInputHasError,\r\n    inputIsValid: enterdPasswordIsValid,\r\n    inputBlurHandler: passwordBlurHandler,\r\n    inputChangeHandler: passwordChangeHandler,\r\n    reset: resetPasswordInput,\r\n  } = useInput((value) => value.trim().length >= 4 && value.trim().length <= 8);\r\n\r\n  const cardCtx = useContext(CardContext);\r\n  const { submiting, submitingHasError } = cardCtx.submitState;\r\n\r\n  const allInputsValid =\r\n    !enterdNameIsValid || !enterdEmailIsValid || !enterdPasswordIsValid;\r\n\r\n  const disableButton = allInputsValid || submiting;\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (allInputsValid) {\r\n      return;\r\n    }\r\n\r\n    cardCtx.onSubmitionData({\r\n      name: enterdName,\r\n      email: enterdEmail,\r\n      password: enterdPassword,\r\n      resetName: resetNameInput,\r\n      resetEmail: resetEmailInput,\r\n      resetPassword: resetPasswordInput,\r\n      onLogIn: props.onLogIn,\r\n      onHideCard: props.onHideCard,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal onClose={props.onHideCard} id=\"formCard\">\r\n      <form className={styles.form} onSubmit={submitHandler}>\r\n        <div\r\n          className={\r\n            nameInputHasError\r\n              ? `${styles[\"form-control\"]} ${styles[\"invalid\"]}`\r\n              : styles[\"form-control\"]\r\n          }\r\n        >\r\n          <label htmlFor=\"name\">Your Name:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"name\"\r\n            value={enterdName}\r\n            onBlur={nameBlurHandler}\r\n            onChange={nameChangeHandler}\r\n            autoComplete=\"name\"\r\n          />\r\n          {nameInputHasError && (\r\n            <p className={styles[\"error-text\"]}>Name should not be empty</p>\r\n          )}\r\n        </div>\r\n        <div\r\n          className={\r\n            emailInputHasError\r\n              ? `${styles[\"form-control\"]} ${styles[\"invalid\"]}`\r\n              : styles[\"form-control\"]\r\n          }\r\n        >\r\n          <label htmlFor=\"email\">Your Email:</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"email\"\r\n            value={enterdEmail}\r\n            onBlur={emailBlurHandler}\r\n            onChange={emailChangeHandler}\r\n            autoComplete=\"email\"\r\n          />\r\n          {emailInputHasError && (\r\n            <p className={styles[\"error-text\"]}>Email should contain '@'</p>\r\n          )}\r\n        </div>\r\n        <div\r\n          className={\r\n            passwordInputHasError\r\n              ? `${styles[\"form-control\"]} ${styles[\"invalid\"]}`\r\n              : styles[\"form-control\"]\r\n          }\r\n        >\r\n          <label htmlFor=\"password\">Password:</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={enterdPassword}\r\n            onBlur={passwordBlurHandler}\r\n            onChange={passwordChangeHandler}\r\n            autoComplete=\"off\"\r\n          />\r\n          {passwordInputHasError && (\r\n            <p className={styles[\"error-text\"]}>\r\n              Password should be (4 to 8) character\r\n            </p>\r\n          )}\r\n        </div>\r\n        <div className={styles[\"form-actions\"]}>\r\n          {submitingHasError && <p>{submitingHasError}</p>}\r\n          <button className={styles[\"button\"]} disabled={disableButton}>\r\n            {submiting ? \"submiting...\" : \"Submit\"}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default LogInCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}